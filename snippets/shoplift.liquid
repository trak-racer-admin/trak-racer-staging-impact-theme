<style>.shoplift-hide { opacity: 0 !important; }</style>
<script type="text/javascript">var V=Object.defineProperty;var I=(o,t,e)=>t in o?V(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var m=(o,t,e)=>(I(o,typeof t!="symbol"?t+"":t,e),e);function u(o,t){var e=C(o,t,"get");return j(o,e)}function P(o,t,e){var s=C(o,t,"set");return O(o,s,e),e}function C(o,t,e){if(!t.has(o))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(o)}function j(o,t){return t.get?t.get.call(o):t.value}function O(o,t,e){if(t.set)t.set.call(o,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}function f(o,t,e){if(!t.has(o))throw new TypeError("attempted to get private field on non-instance");return e}function z(o,t){if(t.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(o,t,e){z(o,t),t.set(o,e)}function T(o,t){z(o,t),t.add(o)}var R=[" daum[ /]"," deusu/"," yadirectfetcher","(?:^| )site","(?:^|[^g])news","@[a-z]","\\(at\\)[a-z]","\\(github\\.com/","\\[at\\][a-z]","^12345","^<","^[\\w \\.\\-\\(\\)]+(/v?\\d+(\\.\\d+)?(\\.\\d{1,10})?)?$","^[^ ]{50,}$","^active","^ad muncher","^amaya","^anglesharp/","^anonymous","^avsdevicesdk/","^axios/","^bidtellect/","^biglotron","^btwebclient/","^castro","^clamav[ /]","^client/","^cobweb/","^coccoc","^custom","^ddg[_-]android","^discourse","^dispatch/\\d","^downcast/","^duckduckgo","^facebook","^fdm[ /]\\d","^getright/","^gozilla/","^hatena","^hobbit","^hotzonu","^hwcdn/","^jeode/","^jetty/","^jigsaw","^linkdex","^lwp[-: ]","^metauri","^microsoft bits","^movabletype","^mozilla/\\d\\.\\d \\(compatible;?\\)$","^mozilla/\\d\\.\\d \\w*$","^navermailapp","^netsurf","^offline explorer","^php","^postman","^postrank","^python","^read","^reed","^restsharp/","^snapchat","^space bison","^svn","^swcd ","^taringa","^test certificate info","^thumbor/","^tumblr/","^user-agent:mozilla","^valid","^venus/fedoraplanet","^w3c","^webbandit/","^webcopier","^wget","^whatsapp","^xenu link sleuth","^yahoo","^yandex","^zdm/\\d","^zoom marketplace/","^{{.*}}$","adbeat\\.com","appinsights","archive","ask jeeves/teoma","bit\\.ly/","bluecoat drtr","bot","browsex","burpcollaborator","capture","catch","check","chrome-lighthouse","chromeframe","cloud","crawl","cryptoapi","dareboost","datanyze","dataprovider","dejaclick","dmbrowser","download","evc-batch/","feed","firephp","freesafeip","ghost","gomezagent","google","headlesschrome/","http","httrack","hubspot marketing grader","hydra","ibisbrowser","images","iplabel","ips-agent","java","library","mail\\.ru/","manager","monitor","morningscore/","neustar wpm","nutch","offbyone","optimize","pageburst","pagespeed","perl","phantom","pingdom","powermarks","preview","proxy","ptst[ /]\\d","reader","rexx;","rigor","rss","scan","scrape","search","serp ?reputation ?management","server","sogou","sparkler/","speedcurve","spider","splash","statuscake","stumbleupon\\.com","supercleaner","synapse","synthetic","taginspector/","torrent","tracemyfile","transcoder","trendsmapresolver","twingly recon","url","virtuoso","wappalyzer","webglance","webkit2png","websitemetadataretriever","whatcms/","wordpress","zgrab"];function _(o){try{new RegExp("(?<! cu)bot").test("dangerbot")}catch{return o}return[["bot","(?<! cu)bot"],["google","(?<! (?:channel/|google/))google(?!(app|/google| pixel))"],["http","(?<!(?:lib))http"],["java","java(?!;)"],["search","(?<! ya(?:yandex)?)search"]].forEach(t=>{let[e,s]=t;const i=o.lastIndexOf(e);~i&&o.splice(i,1,s)}),o}_(R);const L="i";var h=new WeakMap,w=new WeakMap,v=new WeakSet,y=new WeakSet;class b{constructor(t){return T(this,y),T(this,v),x(this,h,{writable:!0,value:void 0}),x(this,w,{writable:!0,value:void 0}),P(this,h,t||R.slice()),f(this,v,k).call(this),Object.defineProperties(s=>this.test(s),Object.entries(Object.getOwnPropertyDescriptors(b.prototype)).reduce((s,i)=>{let[n,c]=i;return typeof c.value=="function"&&Object.assign(s,{[n]:{value:this[n].bind(this)}}),typeof c.get=="function"&&Object.assign(s,{[n]:{get:()=>this[n]}}),s},{}))}get pattern(){return new RegExp(u(this,w))}test(t){return!!t&&u(this,w).test(t)}find(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").match(u(this,w));return e&&e[0]}matches(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return u(this,h).filter(e=>new RegExp(e,L).test(t))}clear(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.exclude(this.matches(t))}extend(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];[].push.apply(u(this,h),t.filter(e=>f(this,y,S).call(this,e)===-1).map(e=>e.toLowerCase())),f(this,v,k).call(this)}exclude(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{length:e}=t;for(;e--;){const s=f(this,y,S).call(this,t[e]);s>-1&&u(this,h).splice(s,1)}f(this,v,k).call(this)}spawn(t){return new b(t||u(this,h))}}function k(){P(this,w,new RegExp(u(this,h).join("|"),L))}function S(o){return u(this,h).indexOf(o.toLowerCase())}const A=new b;class H{constructor(t,e,s){m(this,"shop");m(this,"storageSessionKey");m(this,"host");m(this,"cssHideClass");this.shop=t,this.storageSessionKey=`SHOPLIFT_SESSION_${this.shop}`,this.host=e,this.cssHideClass=s}getLocalVisitor(){const t=window.localStorage.getItem(this.storageSessionKey);if(t)try{return JSON.parse(t)}catch{}return null}flagProcessing(t){const e=this.getLocalVisitor();e&&(e.isProcessing=t,this.updateLocalStorage(e))}async getRemoteVisitor(t){const e=await this.makeRequest({method:"get",url:`${this.host}/api/v0/visitors/${t}`});return e.data&&(e.data.needsPersistence=!1),e.data}getUTMValue(t){const s=decodeURIComponent(window.location.search.substring(1)).split("&");for(let i=0;i<s.length;i++){const n=s[i].split("=");if(n[0]===t)return n[1]||null}return null}hidePage(){this.cssHideClass&&!window.document.documentElement.classList.contains(this.cssHideClass)&&(window.document.documentElement.classList.add(this.cssHideClass),setTimeout(this.removeAsyncHide(this.cssHideClass),2e3))}showPage(){this.cssHideClass&&this.removeAsyncHide(this.cssHideClass)()}getDeviceType(){function t(){let s=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(s=!0)}(navigator.userAgent||navigator.vendor),s}function e(){let s=!1;return function(i){(/android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(s=!0)}(navigator.userAgent||navigator.vendor),s}return t()?"mobile":e()?"tablet":"desktop"}removeAsyncHide(t){return()=>{t&&window.document.documentElement.classList.remove(t)}}async sendCartEvent(t){let e=await this.makeRequest({method:"get",url:`${window.location.origin}/cart.js`});e.data.note===null&&(e=await this.makeRequest({method:"post",url:`${window.location.origin}/cart/update.js`,data:JSON.stringify({note:""})}));const s={session_id:t,...e.data};await this.makeRequest({method:"post",url:`${this.host}/api/events/cart`,data:JSON.stringify(s)})}async makeRequest(t){const{url:e,method:s,headers:i}=t;return await new Promise((n,c)=>{const r=new XMLHttpRequest;if(r.open(s.toUpperCase(),e,!0),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","application/json"),i)for(const a in i)r.setRequestHeader(a,i[a]);(this.host.includes("ngrok.io")||this.host.includes("ngrok-free.app"))&&r.setRequestHeader("ngrok-skip-browser-warning","1234"),r.send(t.data),r.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE)if(this.status>=200&&this.status<400){const a={text:r.responseText,data:{}};try{a.data=JSON.parse(r.responseText)}catch{}n(a)}else c()}})}updateLocalStorage(t){window.localStorage.setItem(this.storageSessionKey,JSON.stringify(t))}}class E extends H{constructor(e,s,i,n){super(e,s,i);m(this,"testConfigs");this.testConfigs=n}async init(){var l,p,d;if(window.Shopify&&window.Shopify.designMode||window.location.href.includes("slScreenshot=true")||window.document.cookie.includes("preview_theme=1;")||A(navigator.userAgent))return;const e=this.getDeviceType(),s=((l=this.getUTMValue("utm_source"))==null?void 0:l.toLowerCase())??"",i=((p=this.getUTMValue("utm_medium"))==null?void 0:p.toLowerCase())??"",n=((d=this.getUTMValue("utm_campaign"))==null?void 0:d.toLowerCase())??"",c=window.document.referrer;if(this.flagProcessing(!0),await this.handleVisitorTest(e,s,i,n,c))return;this.showPage();const a=await this.getVisitor();this.flagProcessing(!1),console.log("SHOPLIFT SCRIPT INITIALIZED!"),window.shoplift=!0,a&&await this.sendCartEvent(a.id)}async handleVisitorTest(e,s,i,n,c){const r={device:e!=="tablet"?e:"mobile",utmSource:s,utmMedium:i,utmCampaign:n,referrer:c};let a=await this.getVisitor();const l=this.findTest(),p=!!l;if(p&&a&&a.visitorTests.find(d=>d.testId===l.id)){const d=this.pickHypothesis(l,a),g=this.considerRedirect(d);return g&&d&&this.redirect(d),g}if(p){const d=this.pickHypothesis(l,a);if(d===null)return a===null&&(a=this.createLocalVisitor(r)),!1;const g=await this.isTargetAudience(l,a||r,a===null||a.createdAt>=l.startAt),q=this.considerRedirect(d);if(g)return a===null?a=this.createLocalVisitorInTest(r,l.id,d.id):a=this.addLocalVisitorToTest(a,l.id,d.id),this.redirect(d),q}return a===null&&(a=this.createLocalVisitor(r)),!1}async createVisitor(e,s){const i={shop:e,...s};return(await this.makeRequest({method:"post",url:`${this.host}/api/v0/visitors`,data:JSON.stringify(i)})).data}async createVisitorInTest(e,s,i,n){const c={shop:e,testId:s,...i,isControl:n};return(await this.makeRequest({method:"post",url:`${this.host}/api/v0/visitors/create-in-test`,data:JSON.stringify(c)})).data}async includeInTest(e,s,i){return(await this.makeRequest({method:"post",url:`${this.host}/api/v0/visitors/${e.id}/add-to-test`,data:JSON.stringify({testId:s,isControl:i})})).data}createLocalVisitor(e){const s={...e,id:"",createdAt:new Date,needsPersistence:!0,isProcessing:!0,visitorTests:[]};return this.updateLocalStorage(s),s}createLocalVisitorInTest(e,s,i){const n={...e,id:"",createdAt:new Date,needsPersistence:!0,isProcessing:!0,visitorTests:[{testId:s,hypothesisId:i,needsPersistence:!0}]};return this.updateLocalStorage(n),n}addLocalVisitorToTest(e,s,i){return e.visitorTests.push({testId:s,hypothesisId:i,needsPersistence:!0}),this.updateLocalStorage(e),e}updateLocalStorage(e){window.localStorage.setItem(this.storageSessionKey,JSON.stringify(e))}findTest(){var e;return(e=this.testConfigs)==null?void 0:e.find(s=>new RegExp(s.path).test(new URL(window.location.href).pathname))}getHypothesis(e){var s;return(s=this.testConfigs)==null?void 0:s.filter(i=>i.hypotheses.find(n=>n.id===e)!==void 0).map(i=>i.hypotheses.find(n=>n.id===e))[0]}async isTargetAudience(e,s,i){let n=null;return e.requiresCountry&&(this.hidePage(),n=(await this.makeRequest({method:"get",url:`${this.host}/api/v0/visitors/get-country`})).data),(e.device==="all"||e.device===s.device)&&(e.visitorOption==="all"||e.visitorOption==="new"&&i||e.visitorOption==="returning"&&!i)&&(e.targetAudiences.length===0||e.targetAudiences.reduce((c,r)=>c||r.reduce((a,l)=>a&&l(s,i,n),!0),!1))}pickHypothesis(e,s){let i=null;if(s!==null&&(i=e.hypotheses.find(r=>{var a;return r.id===((a=s.visitorTests.find(l=>l.testId==e.id))==null?void 0:a.hypothesisId)})||null),i!==null)return i;let n=Math.random();const c=e.hypotheses.reduce((r,a)=>r+a.visitorCount,0);return i=e.hypotheses.sort((r,a)=>r.isControl?a.isControl?0:-1:a.isControl?1:0).reduce((r,a)=>{if(r!==null)return r;const p=e.hypotheses.reduce((d,g)=>d&&g.visitorCount>20,!0)?a.visitorCount/c-a.trafficPercentage:0;return n<=a.trafficPercentage-p?a:(n-=a.trafficPercentage,null)},null),i}considerRedirect(e){if(e!==null){const s=new URL(window.location.toString());if(!e.isControl&&e.affix!==s.searchParams.get("view"))return this.hidePage(),!0}return!1}redirect(e){if(e.isControl)return;const s=new URL(window.location.toString());s.searchParams.set("view",e.affix),window.location.assign(s)}async getVisitor(){const e=this.getLocalVisitor();if(e===null||typeof e.id!="string")return null;const s=typeof e.visitorTests<"u"?e.visitorTests.filter(n=>n.needsPersistence):[];let i=null;for(const n of s){const c=this.getHypothesis(n.hypothesisId);c&&(e.needsPersistence?(i=await this.createVisitorInTest(this.shop,n.testId,e,c.isControl),e.needsPersistence=!1):i=await this.includeInTest(e,n.testId,c.isControl))}return e.needsPersistence&&i===null&&(i=await this.createVisitor(this.shop,e)),i!==null?(this.updateLocalStorage(i),i):typeof e.visitorTests<"u"?e:(i=await this.getRemoteVisitor(e.id),i&&this.updateLocalStorage(i),i)}}(async function(){await(window.shopliftInstance=new E("trak-racer-aus.myshopify.com","https://app.shoplift.ai","",[])).init()})();
</script>